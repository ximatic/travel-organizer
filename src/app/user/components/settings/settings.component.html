<div class="settings">
  <p-panel class="settings__panel">
    <ng-template pTemplate="header">
      <div class="flex grid justify-items-center w-full">
        <span class="grow font-bold">{{ 'SETTINGS.TITLE' | translate }}</span>
      </div>
    </ng-template>

    <div [formGroup]="settingsForm">
      <div class="mb-4">
        <p-floatlabel variant="on">
          <p-select
            formControlName="language"
            [options]="languages"
            optionLabel="name"
            optionValue="code"
            id="language"
            class="w-full"
          />
          <label for="language">{{ 'SETTINGS.FORM.LANGUAGE.LABEL' | translate }}</label>
        </p-floatlabel>
        <small *ngIf="nameControl?.invalid && nameControl?.dirty" class="ml-1 trip__form-error">{{
          'SETTINGS.FORM.ERROR.NAME' | translate
        }}</small>
      </div>
      <div class="mb-3">
        <p-floatlabel variant="on">
          <p-select
            formControlName="dateFormat"
            [options]="dateFormats"
            optionLabel="name"
            optionValue="code"
            id="dateFormat"
            class="w-full"
          />
          <label for="dateFormat">{{ 'SETTINGS.FORM.DATE_FORMAT.LABEL' | translate }}</label>
        </p-floatlabel>
      </div>
      <div class="mb-3">
        <p-floatlabel variant="on">
          <p-select
            formControlName="timeFormat"
            [options]="timeFormats"
            optionLabel="name"
            optionValue="code"
            id="timeFormat"
            class="w-full"
          />
          <label for="timeFormat">{{ 'SETTINGS.FORM.TIME_FORMAT.LABEL' | translate }}</label>
        </p-floatlabel>
      </div>
      <div class="mb-4">
        <p-floatlabel variant="on">
          <p-select formControlName="theme" [options]="themes" optionLabel="name" optionValue="code" id="theme" class="w-full" />
          <label for="theme">{{ 'SETTINGS.FORM.THEME.LABEL' | translate }}</label>
        </p-floatlabel>
      </div>

      <div class="mt-2">
        <button
          pButton
          pRipple
          severity="primary"
          [disabled]="settingsForm.invalid || isSubmitInProgress"
          class="block w-full"
          (click)="submitSettings()"
        >
          <i class="pi pi-spin pi-spinner mr-1" *ngIf="isSubmitInProgress"></i>
          <span pButtonLabel>{{ 'COMMON.BUTTON.UPDATE' | translate }}</span>
        </button>
      </div>
    </div>
  </p-panel>

  <p-toast position="bottom-center" key="toast" />
</div>
